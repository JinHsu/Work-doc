## 数据类型



### string

- 浏览量、分布式ID(INCRBY/INCR)




### list

双向链表

场景：

- 栈（LPUSH+LPOP），队列（LPUSH+RPOP），阻塞队列（LPUSH+BRPOP）

- 消息列表（LRANGE）



### Hash

场景：

- 购物车(field为商品ID，value为商品数量)



### Set

场景：

- 抽奖（SRANDMEMBER/SPOP）

- 关注模型：共同关注（SINTER）



### zset

数据结构：跳表（ziplist-->skiplist）

默认为ziplist，元素超过128个切换为skiplist。redis.conf可以修改配置

```properties
zset-max-ziplist-entries 3
```

场景：

- 排行榜

- 翻页

- 动态



### bitmap

字节为长度单位

场景：

- 统计用户登录天数（月活，年活）
- 布隆过滤器




## 持久化

RDB



AOF



## 事务



## 集群



分片集群



代理集群





- 缓存穿透

    查询一个主键不存在的数据，这时候缓存中也没有，就会进入数据库查询。

    > 加一个布隆过滤器，不存在的key，加一个空直接返回
    >
    > 请求校验

- 缓存击穿

    在某个时刻有大量请求去获取同一个数据，而正在此时这个数据缓存失效了，导致大量的请求涌入数据库。

    > 设置key不过期
    >
    > 分布式锁：保证只有一个线程访问数据

- 缓存雪崩

    在某个时刻系统有大量的请求，而刚好这一大批数据的缓存几乎在同一时刻失效了，导致大量的请求涌入数据库。

    > 错开设置数据的过期时间
    >
    > 设置热点数据永远不过期

- 缓存淘汰策略

- 分布式锁









​	redis字符串实现，sds和c区别？
​	redis集群，为什么是16384个slot？选举过程，会有脑裂问题么，raft算法，优缺点？
​	redis有序集合怎么实现的，跳表是什么？往跳表添加一个元素的过程获取分数的时间复杂度，为什么不用红黑树，红黑树有什么特点，左旋右旋操作？
​	redis集群数据分布，缓存淘汰策略，更新策略？
​	Redis 的主从同步机制？
​	Redis的key过期淘汰机制？
​	业务项目中Redis是如何保证可用性的？怎么实现分布式锁？cluster数据分片规则？
​	Redis有哪些持久化方式？你们在项目中一般怎么做持久化？如何实现集群和高可用？